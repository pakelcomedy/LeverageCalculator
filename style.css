/* ==========================================================================
   style.css — Leverage Calculator (Exchange-like UI)
   Upgraded: denser, more solid, polished, accessible.
   No external assets. All visuals via CSS only.
   ========================================================================== */

/* ----------------------------
   Theme variables — dark-first (exchange-like)
   - Tweak these to change the look globally
   ---------------------------- */
:root{
  /* Core background / surface */
  --page-bg: #071022;            /* page background deep */
  --panel-bg: linear-gradient(180deg,#071022 0%, rgba(8,12,20,0.02) 100%);
  --panel-solid: #081226;        /* solid fallback for flat surfaces */

  /* Text & accents */
  --text-main: #e6eef8;
  --muted: #9aa6bd;
  --accent: #2dd4bf;             /* primary teal */
  --accent-2: #60a5fa;           /* secondary blue */
  --accent-3: #7c3aed;           /* purple highlights */

  /* Status */
  --success: #10b981;
  --danger: #ff6b6b;
  --warning: #f59e0b;

  /* UI surfaces */
  --glass: rgba(255,255,255,0.02);
  --border: rgba(255,255,255,0.06);
  --card-shadow: 0 10px 30px rgba(2,6,23,0.6);

  /* Radii */
  --radius-lg: 14px;
  --radius-md: 10px;
  --radius-sm: 8px;

  /* Spacing & typography */
  --gap: 12px;
  --font-sans: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  --fz-xs: 12px;
  --fz-sm: 13px;
  --fz-md: 15px;
  --fz-lg: 18px;

  /* misc */
  --transition-fast: 150ms;
  --transition-mid: 240ms;
  --max-width: 1200px;
}

/* Light theme override (toggle with data-theme="light") */
[data-theme="light"]{
  --page-bg: linear-gradient(180deg,#f6f8fb 0%, #ffffff 100%);
  --panel-bg: #ffffff;
  --panel-solid: #ffffff;

  --text-main: #071227;
  --muted: #6b7280;
  --accent: #0ea5a4;
  --accent-2: #2563eb;
  --accent-3: #6d28d9;

  --glass: rgba(2,6,23,0.02);
  --border: rgba(2,6,23,0.06);
  --card-shadow: 0 8px 24px rgba(12,18,30,0.06);
}

/* ----------------------------
   Base reset & layout
   ---------------------------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  min-height:100%;
  font-family:var(--font-sans);
  background: var(--page-bg);
  color:var(--text-main);
  font-size:var(--fz-md);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.45;
  padding:20px;
}

/* max container center */
.wrapper{
  max-width:var(--max-width);
  margin:0 auto;
  width:100%;
}

/* Topbar */
.topbar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin: 0 auto 18px;
}
.topbar h1{
  margin:0;
  font-size:1.05rem;
  font-weight:700;
  letter-spacing:-0.2px;
  display:flex;
  align-items:center;
  gap:12px;
}
.topbar .controls{display:flex;gap:8px;align-items:center}
.controls button{
  background:transparent;
  border:1px solid var(--border);
  color:var(--text-main);
  padding:8px 10px;
  border-radius:10px;
  cursor:pointer;
  transition:transform var(--transition-fast) ease, box-shadow var(--transition-fast) ease, background var(--transition-fast) ease;
  display:inline-flex;
  align-items:center;
  gap:8px;
  font-weight:600;
  font-size:var(--fz-sm);
}
.controls button:hover{transform:translateY(-3px); box-shadow:0 6px 18px rgba(0,0,0,0.18)}
.controls button:active{transform:translateY(0)}

/* ----------------------------
   Main layout: two-column grid
   ---------------------------- */
.container{
  display:grid;
  grid-template-columns: 1fr 420px;
  gap:20px;
  align-items:start;
  max-width:var(--max-width);
  margin: 0 auto;
  width:100%;
}

/* Panel base */
.panel{
  background:var(--panel-bg);
  border-radius: var(--radius-lg);
  padding:18px;
  box-shadow: var(--card-shadow);
  border: 1px solid var(--border);
}

/* Responsive tweaks */
@media (max-width:1100px){
  .container{grid-template-columns: 1fr 360px}
}
@media (max-width:900px){
  body{padding:12px}
  .container{grid-template-columns:1fr;gap:12px}
  .topbar{margin-bottom:10px}
  .panel{padding:12px}
}

/* ----------------------------
   Form panel specifics
   ---------------------------- */
.form-panel h2{margin:0 0 12px 0;font-size:1rem}
.row{display:flex;gap:12px;margin-bottom:12px}
.row label{display:block;flex:1;font-size:var(--fz-xs);color:var(--muted);line-height:1.3}
.row label strong{color:var(--text-main);font-weight:700}
input[type="text"],input[type="number"],select,textarea{
  width:100%;
  background: rgba(255,255,255,0.01);
  border:1px solid var(--border);
  color:var(--text-main);
  padding:10px 12px;
  border-radius:var(--radius-sm);
  outline:none;
  font-size:var(--fz-md);
  transition: box-shadow var(--transition-fast) ease, border-color var(--transition-fast) ease, transform var(--transition-fast) ease;
  -webkit-appearance:none;
  -moz-appearance:textfield;
}

/* remove number spinner on webkit to get cleaner UI */
input[type=number]::-webkit-outer-spin-button,
input[type=number]::-webkit-inner-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* focus states - accessible */
input[type="text"]:focus,input[type="number"]:focus,select:focus,textarea:focus{
  box-shadow: 0 8px 30px rgba(99,102,241,0.06);
  border-color: rgba(96,165,250,0.18);
  transform: translateY(-2px);
}

/* small readonly / info fields */
input[readonly], input[disabled]{
  background: transparent;
  opacity:0.95;
  cursor:default;
}

/* Targets list */
#targetsWrapper .targets{display:flex;flex-direction:column;gap:8px}
.target-row{display:flex;gap:8px;align-items:center}
.target-row input.targetInput{flex:1}
.target-row button{background:transparent;border:1px solid var(--border);color:var(--muted);padding:6px 8px;border-radius:8px;cursor:pointer}
.target-row button:hover{background:rgba(255,255,255,0.02);transform:translateY(-2px)}
.target-actions{display:flex;gap:8px;margin-top:8px}
.target-actions button{padding:8px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text-main);cursor:pointer}
.target-actions button:hover{background:rgba(255,255,255,0.02);transform:translateY(-2px)}

/* note textarea */
textarea{min-height:72px;resize:vertical;padding:10px;border-radius:10px}

/* actions */
.actions{display:flex;gap:12px}
.actions button{
  flex:1;
  padding:12px 14px;
  border-radius:12px;
  border:0;
  cursor:pointer;
  font-weight:700;
  letter-spacing:0.2px;
  transition:transform var(--transition-fast) ease, box-shadow var(--transition-fast) ease;
}
#calculateBtn{
  background:linear-gradient(90deg,var(--accent-2),var(--accent));
  color:#fff;
  box-shadow: 0 12px 40px rgba(45,212,191,0.06);
}
#calculateBtn:hover{transform:translateY(-4px)}
#resetBtn{
  background:transparent;
  color:var(--text-main);
  border:1px solid var(--border);
}
.actions .small{flex:0 0 auto;padding:10px 12px}

/* helper text */
.form-panel small{display:block;color:var(--muted);font-size:12px;margin-top:8px}

/* ----------------------------
   Output panel specifics
   ---------------------------- */
.output-panel h2{margin:0 0 12px 0}
.card{background: rgba(255,255,255,0.01); padding:12px;border-radius:10px;border:1px solid var(--border); box-shadow: none}
#resultSummary > div{display:flex;justify-content:space-between;gap:12px;padding:10px;border-bottom:1px dashed rgba(255,255,255,0.02)}
#resultSummary > div:last-child{border-bottom:0}

/* badges & chips */
.badge{
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;border-radius:999px;font-size:12px;font-weight:700;
  background: linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  color:var(--text-main);
  border:1px solid rgba(255,255,255,0.03);
}

/* side chips */
.chip{padding:6px 10px;border-radius:999px;font-weight:700;font-size:13px;border:1px solid rgba(255,255,255,0.04)}
.chip.long{background:linear-gradient(90deg,rgba(16,185,129,0.06),rgba(16,185,129,0.02));color:var(--success);border-color:rgba(16,185,129,0.12)}
.chip.short{background:linear-gradient(90deg,rgba(239,68,68,0.04),rgba(239,68,68,0.02));color:var(--danger);border-color:rgba(239,68,68,0.12)}

/* ----------------------------
   Table styles (targets & history)
   ---------------------------- */
.table-base{width:100%;border-collapse:collapse}
#targetsTable, #historyTable{width:100%;border-collapse:collapse;font-size:14px;margin-top:6px}
#targetsTable thead th, #historyTable thead th{
  text-align:left;font-size:12px;color:var(--muted);font-weight:600;padding:12px 10px;border-bottom:1px solid rgba(255,255,255,0.02)
}
#targetsTable tbody td, #historyTable tbody td{
  padding:10px 8px;border-bottom:1px dashed rgba(255,255,255,0.03);vertical-align:middle;
}
#targetsTable tbody tr:hover, #historyTable tbody tr:hover{
  background: linear-gradient(90deg, rgba(255,255,255,0.01), transparent);
}

/* highlight columns */
#targetsTable tbody td:nth-child(1){font-weight:800;color:var(--accent-2)}
#targetsTable tbody td:nth-child(3){font-weight:800}
#targetsTable tbody td:nth-child(4){font-size:12px;color:var(--muted)}

/* action buttons in table */
.table-action{padding:6px 8px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text-main);cursor:pointer;font-weight:700}
.table-action.danger{background:var(--danger);color:#fff;border:0}
.table-action.ghost{background:transparent;border:1px dashed rgba(255,255,255,0.03)}

/* history actions */
.history-actions{display:flex;gap:8px;justify-content:flex-end;margin-bottom:8px}
.history-actions button{padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text-main);cursor:pointer}
.history-actions button:hover{transform:translateY(-2px)}

/* history row delete button fine-tune */
#historyTable tbody tr td button{cursor:pointer;border-radius:8px;padding:6px 8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text-main)}
#historyTable tbody tr td button:hover{background:rgba(255,255,255,0.02);transform:translateY(-2px)}

/* ----------------------------
   Chart / mini-scale visuals
   ---------------------------- */
.chart{min-height:120px;display:flex;align-items:center;justify-content:center;padding:8px}
.mini-scale{width:100%;height:90px}
svg{width:100%;height:90px;display:block}
svg line.base{stroke:rgba(255,255,255,0.06);stroke-width:1}
svg circle{stroke:rgba(0,0,0,0.25);stroke-width:0.6}
svg text{font-family:var(--font-sans);font-weight:700;fill:var(--text-main);font-size:11px}

/* price marker colors */
.marker-liq{fill:var(--danger)}
.marker-entry{fill:var(--accent-2)}
.marker-target{fill:var(--success)}

/* tooltip for svg markers */
.svg-tooltip{position:absolute;background:rgba(0,0,0,0.8);color:#fff;padding:6px 8px;border-radius:6px;font-size:12px;pointer-events:none;transform:translate(-50%, -120%);white-space:nowrap;}

/* ----------------------------
   Tiny UI helpers & blocks
   ---------------------------- */
.kv{display:flex;align-items:center;gap:10px}
.kv .label{font-size:13px;color:var(--muted)}
.kv .value{font-weight:700;color:var(--text-main)}
.keyline{display:flex;justify-content:space-between;align-items:center;padding:10px;border-radius:8px;border:1px dashed rgba(255,255,255,0.02);margin-bottom:8px}

/* utility classes */
.text-muted{color:var(--muted)}
.text-strong{color:var(--text-main);font-weight:700}
.flex{display:flex}
.center{align-items:center;justify-content:center}
.gap-xs{gap:6px}
.m-0{margin:0}
.p-0{padding:0}
.small-btn{padding:6px 8px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text-main);cursor:pointer;font-weight:700}

/* ----------------------------
   Accessibility & focus
   ---------------------------- */
input:focus, select:focus, textarea:focus, button:focus{
  outline: 3px solid rgba(96,165,250,0.12);
  outline-offset: 3px;
}

/* reduce motion preference */
@media (prefers-reduced-motion: reduce){
  *{transition:none!important;animation:none!important}
}

/* ----------------------------
   Polishing: subtle animations & elevation
   ---------------------------- */
.panel{transform-origin: top center; animation:panelPop .36s cubic-bezier(.2,.9,.25,1) both}
@keyframes panelPop{from{opacity:0;transform:translateY(8px) scale(.998)}to{opacity:1;transform:none}}

/* hover micro interactions */
input:hover, select:hover, textarea:hover{box-shadow: 0 6px 18px rgba(0,0,0,0.08)}
.controls button:focus, .table-action:focus{transform:translateY(-1px)}

/* ----------------------------
   Print friendly
   ---------------------------- */
@media print{
  body{background:#fff;color:#000}
  .panel{box-shadow:none;border:1px solid #ddd}
  .topbar, .history-actions, .controls{display:none}
}

/* ----------------------------
   Extra exchange-like blocks
   (orderbook compact, small number formatting)
   ---------------------------- */
.order-compact{display:flex;flex-direction:column;gap:6px;padding:8px;border-radius:8px;background:rgba(255,255,255,0.01);border:1px solid var(--border)}
.order-row{display:flex;justify-content:space-between;gap:12px;padding:6px 4px;font-size:13px}
.order-row .price{font-weight:700}
.order-row .size{color:var(--muted);font-size:13px}
.price-up{color:var(--success);font-weight:800}
.price-down{color:var(--danger);font-weight:800}

/* ----------------------------
   Final micro-tweaks for density & clarity
   ---------------------------- */
#targetsTable tbody td:nth-child(1){letter-spacing:0.2px}
#targetsTable tbody td:nth-child(2){color:var(--muted)}
#targetsTable tbody td:nth-child(3){font-weight:700}
#targetsTable tbody td:nth-child(4){font-size:12px;color:var(--muted)}

/* ensure consistent spacing for tiny icons / emojis used in UI */
.icon-pill{display:inline-flex;align-items:center;justify-content:center;width:28px;height:28px;border-radius:8px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);font-weight:700}

/* small responsive adjustments */
@media (max-width:640px){
  .topbar h1{font-size:1rem}
  .actions{flex-direction:column}
  .actions button{width:100%}
  .controls button{padding:8px}
  .panel{padding:12px}
}

/* End of stylesheet */
